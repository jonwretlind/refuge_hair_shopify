{%- if section.settings.cta_url != blank -%}
  {%- assign cta_url = section.settings.cta_url -%}
{%- else -%}
  {%- assign cta_url = "https://www.instagram.com/hairitagebymindy/" -%}
{%- endif -%}

{%- if template contains 'index' -%}
  {%- assign bg_color = section.settings.bg_color-homepage -%}
{%- elsif template contains 'about' -%}
  {%- assign bg_color = section.settings.bg_color-about -%}
{%- elsif template contains 'contact' -%}
  {%- assign bg_color = section.settings.bg_color-contact -%}
{%- elsif template contains 'ingredients' -%}
  {%- assign bg_color = section.settings.bg_color-ingredients -%}
{%- elsif template contains 'formula' -%}
  {%- assign bg_color = section.settings.bg_color-formulas -%}
{%- else -%}
  {%- assign bg_color = "bg-brand-secondary" -%}
{%- endif -%}

<yotpo-carousel
  heading="{{ section.settings.heading | escape }}"
  cta-text="{{ section.settings.cta_text | escape }}"
  :cta-url='{{ cta_url | json }}'
  :yotpo-id='{{ section.settings.yotpo_id | json }}'
  :bg-color='{{ bg_color | json }}'
/>

{% schema %}
  {
    "name": "Yotpo Carousel",
    "class": "yotpo-carousel",
    "settings": [
      {
        "type": "header",
        "content": "Yotpo Carousel",
        "info": "Just add the ID of your Yotpo carousel from the generated code, and fill out your headline and CTA!"
      },
      {
        "type": "text",
        "id": "heading",
        "label": "Heading",
        "default": "Follow us on Instagram"
      },
      {
        "type": "text",
        "id": "cta_text",
        "label": "CTA Text",
        "default": "@hairitagebymindy"
      },
      {
        "type": "url",
        "id": "cta_url",
        "label": "CTA URL"
      },
      {
        "id": "yotpo_id",
        "type": "text",
        "label": "Yotpo ID",
        "default": "5ed18a74e3167029459901db",
        "info": "Located in the Yotpo admin (see documentation)"
      },
      {
        "type": "header",
        "content": "Backgrounds"
      },
      {
        "label": "Background Color - Homepage",
        "id": "bg_color-homepage",
        "type": "select",
        "options": <%- uikit.backgroundOptions -%>,
        "default": "bg-brand-secondary"
      },
      {
        "label": "Background Color - About Page",
        "id": "bg_color-about",
        "type": "select",
        "options": <%- uikit.backgroundOptions -%>,
        "default": "bg-brand-tertiary"
      },
      {
        "label": "Background Color - Contact",
        "id": "bg_color-contact",
        "type": "select",
        "options": <%- uikit.backgroundOptions -%>,
        "default": "bg-brand-secondary"
      },
      {
        "label": "Background Color - Ingredients Page",
        "id": "bg_color-ingredients",
        "type": "select",
        "options": <%- uikit.backgroundOptions -%>,
        "default": "bg-brand-secondary"
      },
      {
        "label": "Background Color - Formulas Page",
        "id": "bg_color-formulas",
        "type": "select",
        "options": <%- uikit.backgroundOptions -%>,
        "default": "bg-brand-secondary"
      }
    ],
    "presets": [
      {
        "name": "Yotpo Carousel",
        "category": "Content Blocks"
      }
    ]
  }
{% endschema %}
